{"version":3,"sources":["server.js","Components/Filter.tsx","Components/ReadMore.tsx","Components/PostListItem.tsx","Components/NumberPicker.tsx","Components/PostList.tsx","Components/NewPost.tsx","ApiService.tsx","Components/CommentBtn.tsx","App.tsx","index.tsx"],"names":["isPrime","num","i","useStyles","makeStyles","button","display","flexDirection","alignItems","justifyContent","backgroundColor","border","borderRadius","boxShadow","color","minHeight","marginTop","marginBottom","fontWeight","padding","fontSize","transition","text","marginLeft","filtered","backgroundImage","Filter","filterValidated","filter","classes","onClick","className","marginRight","readOrHide","cursor","ReadMore","children","useState","isReadMore","setIsReadMore","slice","sliced","top","img","float","maxHeight","time","username","line","thumbup","icons","paddingBottom","PostListItem","comment","postedOn","src","alt","moment","fromNow","options","container","position","bottom","left","SplitButton","virtuoso","React","open","setOpen","anchorRef","selectedIndex","setSelectedIndex","handleClose","event","current","contains","target","ButtonGroup","variant","ref","aria-label","Button","console","info","scrollToIndex","index","align","behavior","size","aria-controls","undefined","aria-expanded","aria-haspopup","prevOpen","Popper","anchorEl","role","disablePortal","TransitionProps","placement","Grow","style","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","id","map","option","MenuItem","selected","handleMenuItemClick","PostList","posts","focusClicked","useRef","height","width","totalCount","itemContent","post","validated","userName","userProfileImgUrl","Math","random","NumberPicker","textfield","NewPost","createPost","setComment","Date","focusInput","handleSubmit","e","preventDefault","useEffect","focusOn","focus","onSubmit","TextField","label","inputRef","value","multiline","rows","sx","InputProps","endAdornment","IconButton","type","onInput","onInputChange","newPost","numberOfPosts","pagesize","body","path","fetch","then","res","status","Promise","reject","json","catch","err","log","fetchRequest","method","headers","JSON","stringify","root","icon","CommentBtn","handleFocus","App","setPosts","setFilter","setFocusClicked","getPosts","data","prevPosts","error","length","createServer","models","Model","seeds","server","create","faker","name","firstName","image","avatar","lorem","paragraphs","floor","routes","this","get","schema","request","page","parseInt","queryParams","items","current_page","per_page_items","per_page","offset","paginatedItems","total_pages","ceil","prev_page","next_page","total","postsResults","db","postDto","parse","requestBody","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.df6293ce.chunk.js","sourcesContent":["import { createServer, Model } from \"miragejs\";\nimport faker from \"faker\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default function (numberOfPosts, pagesize) {\n  createServer({\n    models: {\n      posts: Model\n    },\n    seeds(server) {\n      for (let i = 0; i < numberOfPosts; i++) {\n        server.create(\"post\", {\n          userName: faker.name.firstName(),\n          userProfileImgUrl: faker.image.avatar(),\n          comment: faker.lorem.paragraphs(Math.floor(Math.random() * 6) + 2),\n          validated: isPrime(i),\n          postedOn: new Date()\n        });\n      }\n    },\n    routes() {\n      this.get(\"/api/posts\", (schema, request) => {\n        let page = parseInt(request.queryParams.page, 10) || 1;\n        let filter = request.queryParams.filter || \"\";\n        let res = postsResults(schema.db.posts, filter, page, pagesize);\n        return res;\n      });\n      this.post(\"/api/posts\", (schema, request) => {\n        let postDto = JSON.parse(request.requestBody);\n        postDto.postedOn = new Date();\n        let post = schema.posts.create(postDto);\n        return post;\n      });\n    }\n  });\n}\n\nfunction postsResults(items, filter, current_page, per_page_items) {\n  if (filter === \"validated\") {\n    items = items.filter((post) => post.validated === true);\n  }\n\n  let page = current_page || 1,\n    per_page = per_page_items || 10,\n    offset = (page - 1) * per_page,\n    paginatedItems = items.slice(offset).slice(0, per_page_items),\n    total_pages = Math.ceil(items.length / per_page);\n\n  return {\n    page: page,\n    per_page: per_page,\n    prev_page: page - 1 ? page - 1 : null,\n    next_page: total_pages > page ? page + 1 : null,\n    total: items.length,\n    total_pages: total_pages,\n    posts: paginatedItems\n  };\n}\n\nfunction isPrime(num) {\n  if (num <= 1) {\n    return true;\n  } else if (num <= 3) {\n    return true;\n  } else if (num % 2 === 0 || num % 3 === 0) {\n    return false;\n  }\n\n  let i = 5;\n  while (i * i <= num) {\n    if (num % i === 0 || num % (i + 2) === 0) {\n      return false;\n    }\n    i += 6;\n  }\n  return true;\n}\n","import React from 'react'\nimport { makeStyles } from '@mui/styles'\nimport TuneIcon from '@mui/icons-material/Tune';\n\ninterface Props {\n  filterValidated: () => void;\n  filter: boolean;\n}\n\nconst useStyles = makeStyles({\n  button: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-evenly',\n    backgroundColor: '#F0F0F0',\n    border: 0,\n    borderRadius: 6,\n    boxShadow: 'none',\n    color: '#0092DB',\n    minHeight: 48,\n    marginTop: '3%',\n    marginBottom: '5%',\n    fontWeight: 'bold',\n    padding: '0 30px',\n    fontSize: '1em',\n    transition: \"background 0.5s, color 0.5s, border 0.5s\",\n    \"&:hover\": {\n    backgroundColor: \"#e6f2ff\",\n    color: \"#0092DB\"\n    },\n  },\n  text: {\n    marginLeft: '25%',\n  },\n  filtered: {\n    backgroundColor: '#f9f9f9',\n    backgroundImage: 'radial-gradient(#e9fce9, #cdffcd)',\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-evenly',\n    border: 0,\n    borderRadius: 6,\n    boxShadow: 'none',\n    color: '#0092DB',\n    minHeight: 48,\n    marginTop: '3%',\n    marginBottom: '5%',\n    fontWeight: 'bold',\n    padding: '0 30px',\n    fontSize: '1em',\n    transition: \"background 0.5s, color 0.5s, border 0.5s\",\n    \"&:hover\": {\n    backgroundColor: \"#e6f2ff\",\n    color: \"#0092DB\"\n    },\n  }\n});\n\nconst Filter: React.FC<Props> = ({ filterValidated, filter }) => {\n\n  const classes = useStyles();\n  return (\n    <div> \n      <div > \n      <button onClick={() => filterValidated()} className={filter ? classes.filtered : classes.button} >\n      <TuneIcon />\n      <p className={classes.text}>Filter</p>\n      </button>\n      </div>\n    </div>\n  )\n}\nexport default Filter;\n","import React, {useState} from 'react';\nimport { makeStyles } from '@mui/styles';\n\nconst useStyles = makeStyles({\n  text: {\n    marginLeft: '8%',\n    marginRight: '5%',\n    marginBottom: '5%',\n  },\n  readOrHide: {\n    color: 'rgb(192,192,192)',\n    cursor: 'pointer',\n  },\n\n});\n\nconst ReadMore: React.FC = ({ children }) => {\n  const classes = useStyles();\n  const text = children;\n  const [isReadMore, setIsReadMore] = useState(true);\n\n  const toggleReadMore = () => {\n    setIsReadMore(!isReadMore);\n  };\n\n  const sliced = (text: any) => {\n    return text.slice(0, 500);\n  } \n\n  return (\n    <div>\n      <p className={classes.text}>\n        {isReadMore ? sliced(text) : text}\n        <span onClick={toggleReadMore} className={classes.readOrHide}>\n        {isReadMore ? \"...read more\" : \"hide\"}\n      </span>\n      </p>\n    </div>\n    \n  );\n};\n\nexport default ReadMore;","import React from 'react';\nimport { makeStyles } from '@mui/styles'\nimport ThumbUpOffAltTwoToneIcon from '@mui/icons-material/ThumbUpOffAltOutlined';\nimport ShareTwoToneIcon from '@mui/icons-material/ShareTwoTone';\nimport MoreHorizTwoToneIcon from '@mui/icons-material/MoreHorizTwoTone';\nimport ReadMore from './ReadMore';\nimport moment from 'moment';\n\ninterface Props {\n  username: string;\n  img: string;\n  comment: string;\n  postedOn: string;\n}\n\nconst useStyles = makeStyles({\n  top: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginBottom: '2rem',\n  },\n  img: {\n    borderRadius: '50%',\n    float: 'left',\n    maxHeight: '60px',\n    marginTop: '10px',\n  },\n  time: {\n    color: '#636363',\n  },\n  username: {\n    marginLeft: '3%',\n  },\n  line: {\n    border: '1px solid #eaeaea'\n  },\n  thumbup: {\n    marginLeft: '90%',\n  },\n  icons: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    paddingBottom: '1rem',\n  },\n})\n\nconst PostListItem: React.FC<Props> = ({ username, img, comment, postedOn }) => {\n\n  const classes = useStyles();\n\n  return (\n    <div>\n      <div > \n      <img src={img} alt=\"profile-pic\" className={classes.img}/>\n      <div className={classes.top}>\n        <h3 className={classes.username}>{username}</h3>\n        <p className={classes.time}>{moment(postedOn, \"YYYYMMDD\").fromNow()}</p>\n      </div>\n      </div>\n      <ReadMore >\n        {comment}\n      </ReadMore>\n      <div className={classes.icons}>\n        <ThumbUpOffAltTwoToneIcon className={classes.thumbup} />\n        <ShareTwoToneIcon />\n        <MoreHorizTwoToneIcon />\n      </div>\n      <hr className={classes.line}/>   \n    </div>\n  )\n}\n\n\nexport default PostListItem;","import * as React from 'react';\nimport Button from '@mui/material/Button';\nimport ButtonGroup from '@mui/material/ButtonGroup';\nimport ArrowDropDownIcon from '@mui/icons-material/ArrowDropDown';\nimport ClickAwayListener from '@mui/material/ClickAwayListener';\nimport Grow from '@mui/material/Grow';\nimport Paper from '@mui/material/Paper';\nimport Popper from '@mui/material/Popper';\nimport MenuItem from '@mui/material/MenuItem';\nimport MenuList from '@mui/material/MenuList';\nimport { makeStyles } from '@mui/styles';\n\nconst options = ['Page 1', 'Page 2', 'Page 3', 'Page 4', 'Page 5'];\n\nconst useStyles = makeStyles({\n  container: {\n    float: 'right',\n    position: 'fixed',\n    bottom: '66%',\n    left: '85%',\n  },\n});\n\ninterface Props {\n  virtuoso: React.MutableRefObject<any>;\n}\n\nconst SplitButton: React.FC<Props> = ({ virtuoso }) => {\n  const [open, setOpen] = React.useState(false);\n  const anchorRef = React.useRef<HTMLDivElement>(null);\n  const [selectedIndex, setSelectedIndex] = React.useState(0);\n  const classes = useStyles();\n\n  const handleClick = () => {\n    console.info(`You clicked ${options[selectedIndex]}`);\n    virtuoso.current.scrollToIndex({\n      index: selectedIndex*20,\n      align: 'start',\n      behavior: 'smooth',\n    });\n    return false;\n  };\n\n  const handleMenuItemClick = (\n    event: React.MouseEvent<HTMLLIElement, MouseEvent>,\n    index: number,\n  ) => {\n    setSelectedIndex(index);\n    setOpen(false);\n  };\n\n  const handleToggle = () => {\n    setOpen((prevOpen) => !prevOpen);\n  };\n\n  const handleClose = (event: Event) => {\n    if (\n      anchorRef.current &&\n      anchorRef.current.contains(event.target as HTMLElement)\n    ) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  return (\n    <React.Fragment>\n      <ButtonGroup variant=\"contained\" ref={anchorRef} aria-label=\"split button\" className={classes.container}>\n        <Button onClick={() => handleClick()}>{options[selectedIndex]}</Button>\n        <Button\n          size=\"large\"\n          aria-controls={open ? 'split-button-menu' : undefined}\n          aria-expanded={open ? 'true' : undefined}\n          aria-label=\"select merge strategy\"\n          aria-haspopup=\"menu\"\n          onClick={handleToggle}\n        >\n          <ArrowDropDownIcon />\n        </Button>\n      </ButtonGroup>\n      <Popper\n        open={open}\n        anchorEl={anchorRef.current}\n        role={undefined}\n        transition\n        disablePortal\n      >\n        {({ TransitionProps, placement }) => (\n          <Grow\n            {...TransitionProps}\n            style={{\n              transformOrigin:\n                placement === 'bottom' ? 'center top' : 'center bottom',\n            }}\n          >\n            <Paper>\n              <ClickAwayListener onClickAway={handleClose}>\n                <MenuList id=\"split-button-menu\">\n                  {options.map((option, index) => (\n                    <MenuItem\n                      key={option}\n                      selected={index === selectedIndex}\n                      onClick={(event) => handleMenuItemClick(event, index)}\n                    >\n                      {option}\n                    </MenuItem>\n                  ))}\n                </MenuList>\n              </ClickAwayListener>\n            </Paper>\n          </Grow>\n        )}\n      </Popper>\n    </React.Fragment>\n  );\n}\n\nexport default SplitButton","import React, { useRef } from 'react'\nimport Post from '../interfaces';\nimport PostListItem from './PostListItem';\nimport NumberPicker from './NumberPicker';\nimport { Virtuoso } from 'react-virtuoso'\n\ninterface Props {\n  posts: Post[];\n  filter: boolean;\n  focusClicked: boolean;\n}\n\nconst PostList: React.FC<Props> = ({ posts, filter, focusClicked }) => {\n  const virtuoso = useRef(null);\n  \n  return (\n      \n    <div >\n      <Virtuoso\n        style={{ height: focusClicked ? \"500px\": \"650px\", width: \"80%\" }}\n        totalCount={100}\n        ref={virtuoso}\n        itemContent={(index) => <div>\n          {filter ? posts.filter((post) => post.validated).map((post, index) => \n            <PostListItem \n              key={index} \n              username={post.userName} \n              img={post.userProfileImgUrl}\n              comment={post.comment}\n              postedOn={post.postedOn}\n            />) \n            : posts.map(post => \n            <PostListItem \n              key={index+1*Math.random()} \n              username={post.userName} \n              img={post.userProfileImgUrl}\n              comment={post.comment}\n              postedOn={post.postedOn}\n            />)}\n          </div>}\n      />  \n      <NumberPicker virtuoso={virtuoso}/>\n    </div>\n      )\n}\n\nexport default PostList;\n\n","import React, { useEffect, useRef } from 'react'\nimport TextField from '@mui/material/TextField';\nimport { makeStyles } from '@mui/styles'\nimport IconButton from '@mui/material/IconButton';\nimport SendTwoToneIcon from '@mui/icons-material/SendTwoTone';\n\ninterface Props {\n  createPost: (body: Object) => void;\n  focusClicked: boolean;\n}\n\nconst useStyles = makeStyles({\n  container: {\n    marginTop: '5%',\n    marginLeft: '10%',\n  },\n  textfield: {\n    boxShadow: 'rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px;',\n    bottom: '25px',\n  }\n});\n\nconst NewPost: React.FC<Props> = ({ createPost, focusClicked }) => {\n  const [comment, setComment] = React.useState('');\n  const validated = true;\n  const userName = 'You';\n  const userProfileImgUrl = 'https://cdn.fakercloud.com/avatars/arthurholcombe1_128.jpg';\n  const postedOn = new Date();\n  const focusInput = useRef();\n  const classes = useStyles();\n\n    const handleSubmit = (e: { preventDefault: () => void; }) => {\n      e.preventDefault();\n      let input = { userName, userProfileImgUrl, comment, validated, postedOn };\n        createPost(input);\n        setComment('');\n    }\n    \n    const onInputChange = (e: React.FormEvent<HTMLDivElement> ) => {\n      const target = e.target as HTMLTextAreaElement;\n      setComment(target.value);\n    };\n\n    useEffect(() => {\n      focusOn(focusInput);\n    }, [focusClicked]);\n\n    const focusOn = (ref: React.MutableRefObject<any>) => {\n      ref.current.focus();\n    };\n\n  return (\n    <div className={classes.container}>\n      <form onSubmit={handleSubmit}>\n      <TextField\n          className={classes.textfield}\n          id=\"outlined-multiline-static\"\n          label=\"Reply..\"\n          inputRef={focusInput}\n          value={comment}\n          multiline\n          rows={8}\n          size=\"medium\"\n          sx={{ width: '75%' }}\n          onSubmit={handleSubmit}\n          InputProps={{endAdornment: \n            <IconButton \n              size=\"large\"\n              color=\"primary\"\n              type=\"submit\"\n              >\n              <SendTwoToneIcon />\n            </IconButton>}}\n          onInput={(e)=> onInputChange(e)}\n        />\n      </form>\n    </div>\n  )\n}\nexport default NewPost;\n","function newPost (body: any) {\n  return fetchRequest('/api/posts', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(body)\n  });\n}\n\nfunction fetchRequest (path: string, options: RequestInit | undefined) {\n  return fetch(path, options)\n  .then(res => res.status <= 400 ? res : Promise.reject())\n  .then(res => res.status === 204 ? res : res.json())\n  .catch(err => {\n    console.log(`Error fetching ${path}`, err)\n  })\n}\n\nexport default newPost;","import React from 'react'\nimport { makeStyles } from '@mui/styles'\nimport ReplyTwoToneIcon from '@mui/icons-material/ReplyTwoTone';\n\ninterface Props {\n  handleFocus : () => void;\n  focusClicked: boolean;\n}\n\nconst useStyles = makeStyles({\n  root: {\n    float: 'right',\n    position: 'fixed',\n    bottom: '76%',\n    left: '85%',\n  },\n  icon: {\n    marginRight: '0.7rem',\n  },\n  button: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-evenly',\n    backgroundColor: '#e6f2ff',\n    border: 0,\n    borderRadius: 6,\n    boxShadow: 'none',\n    color: '#0092DB',\n    minHeight: 48,\n    marginTop: '5%',\n    marginBottom: '5%',\n    fontWeight: 'bold',\n    padding: '0 30px',\n    fontSize: '1em',\n    transition: \"background 0.5s, color 0.5s, border 0.5s\",\n    \"&:hover\": {\n    backgroundColor: \"#F0F0F0\",\n    color: \"#0092DB\"\n    },\n  },\n});\n\nconst CommentBtn: React.FC<Props> = ({ handleFocus, focusClicked }) => {\n\n  const clickHandler = () => {\n    handleFocus();\n  }\n\n  const classes = useStyles();\n  return (\n    <div className={classes.root}> \n      <button \n        className={classes.button} \n        style={{backgroundColor: focusClicked ? '#FF7F7F' : '#e6f2ff', color: focusClicked ? '#FFF' : '#0092DB'}}\n        onClick={()=>{\n        clickHandler()}\n      }>\n      <ReplyTwoToneIcon className={classes.icon}/>\n      {focusClicked ? 'Close' : 'Comment'}\n      </button>\n    </div>\n  )\n}\n\nexport default CommentBtn;","import React, { useState, useEffect } from 'react';\nimport Filter from './Components/Filter';\nimport PostList from './Components/PostList';\nimport NewPost from './Components/NewPost';\nimport newPost from './ApiService';\nimport CommentBtn from './Components/CommentBtn';\nimport './App.css';\n \nconst App: React.FC = () => {\n  let [posts, setPosts] = useState<any[]>([])\n  let [filter, setFilter] = useState<boolean>(false)\n  let [focusClicked, setFocusClicked] = useState<boolean>(false)\n\n  useEffect(() => {\n    getPosts();\n  }, [])\n\n  const getPosts = () => {\n    for (let i = 1; i < 6; i++) {\n      fetch(`/api/posts?page=${i}`)\n      .then((res) => res.json())\n      .then((data) => setPosts(prevPosts => [...prevPosts,  ...data.posts]))\n      .catch((error) => console.log('Error fetching posts', error));\n    } \n  }\n\n  const createPost = (body: Object) => {\n    newPost(body)\n      .then(post => {\n        setPosts(prevPosts => [...prevPosts,  post.posts])\n      })\n  }\n\n  const filterValidated = () => {\n    if(!filter) {\n      setFilter(true);\n    } else {\n      setFilter(false);\n    }\n  }\n\n  const handleFocus = () => {\n    return setFocusClicked(!focusClicked);\n  }\n\n  return (\n      <div className=\"App\">\n      <h1>Comments</h1>\n      <Filter \n        filterValidated={filterValidated} \n        filter={filter}\n      />\n      {(posts.length > 0) ?\n        <PostList \n          posts={posts}\n          filter={filter}\n          focusClicked={focusClicked}\n        />\n      : <div></div>}\n      {(focusClicked) ?\n        <NewPost \n        createPost={createPost} \n        focusClicked={focusClicked}\n      />\n      : <div></div>}\n      <CommentBtn \n      focusClicked={focusClicked}\n      handleFocus={handleFocus}/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport createServer from \"./server.js\";\nimport './index.css';\nimport App from './App';\n\nconst NUMBER_OF_POSTS = 100;\nconst PAGE_SIZE = 20;\n\ncreateServer(NUMBER_OF_POSTS, PAGE_SIZE);\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}